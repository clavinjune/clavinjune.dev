<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatbile content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Clavin June"><meta http-equiv=content-security-policy content="default-src 'self' 'unsafe-inline' https:; object-src 'none'; style-src 'self' 'unsafe-inline' fonts.googleapis.com github.githubassets.com; font-src fonts.gstatic.com; script-src 'self' 'unsafe-inline' www.googletagmanager.com gist.github.com giscus.app static.cloudflareinsights.com; base-uri 'none'; img-src 'self' images.unsplash.com i.kym-cdn.com iq.opengenus.org;"><meta name=google-site-verification content="n8iUJq2zr7wQ8eTS_ozpypgZQhfezUeUOXhOr3-INrE"><meta name=monetization content="$ilp.uphold.com/RYNmdxrFrPJB"><link rel=me href=mailto:juneardoc@gmail.com><link rel=pingback href=https://webmention.io/clavinjune.dev_en_/xmlrpc><link rel=webmention href=https://webmention.io/clavinjune.dev_en_/webmention><meta name=description content="This post contains notes about the differences between buffered and unbuffered channel in golang."><meta property="og:locale" content="en_US"><meta property="og:site_name" content="June Personal Web"><meta property="og:title" content="Buffered vs Unbuffered Channel in Golang"><meta property="og:description" content="This post contains notes about the differences between buffered and unbuffered channel in golang."><meta property="og:type" content="article"><meta property="og:url" content="https://clavinjune.dev/en/blogs/buffered-vs-unbuffered-channel-in-golang/"><meta property="og:image" content="https://images.unsplash.com/photo-1499159058454-75067059248a?w=1920&q=50"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2021-01-24T00:00:00+07:00"><meta property="article:modified_time" content="2021-01-24T00:00:00+07:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1499159058454-75067059248a?w=1920&q=50"><meta name=twitter:title content="Buffered vs Unbuffered Channel in Golang"><meta name=twitter:description content="This post contains notes about the differences between buffered and unbuffered channel in golang."><title>June Personal Web - Buffered vs Unbuffered Channel in Golang</title><link rel=stylesheet href=https://clavinjune.dev/css/style.min.18b5dac8bd8a35f52a3a027a9faec3e09327d0500eb2b1b42cdb8df5f29f8b16.css integrity="sha256-GLXayL2KNfUqOgJ6n67D4JMn0FAOsrG0LNuN9fKfixY="><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Roboto:wght@300;400;700&display=swap" as=style onload="this.onload=null,this.rel='stylesheet'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Roboto:wght@300;400;700&display=swap"></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" as=style onload="this.onload=null,this.rel='stylesheet'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap"></noscript><link rel=stylesheet href=https://clavinjune.dev/css/single.min.e8889c0752ac6ca9337cbb89ec2e249a2f3effd2a56faa77f8307f247d2433dd.css integrity="sha256-6IicB1KsbKkzfLuJ7C4kmi8+/9Klb6p3+DB/JH0kM90="></head><body><nav class=fg-bold><a id=skip-to-content href=#content>Skip to content</a><ul id=menu><li><a href=https://clavinjune.dev/en/>HOME</a></li><li><a class=active href=https://clavinjune.dev/en/blogs/>BLOG</a></li></ul></nav><main class=single><h1 class=title>Buffered vs Unbuffered Channel in Golang</h1><div class="metadata font-16"><a class=category href=https://clavinjune.dev/en/categories/tech>tech</a>
<span class=middot>&#183;</span>
<span>Jan 24, 2021</span>
<span class=middot>&#183;</span>
<span>~4 min</span></div><div id=content><figure><div class=img-box><img srcset="https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=240 240w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=300 300w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=360 360w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=480 480w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=600 600w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=768 768w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=800 800w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=960 960w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=1024 1024w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=1080 1080w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=1200 1200w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=1366 1366w,https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=1920 1920w" sizes="(max-width: 200px) 200px, 100vw" src="https://images.unsplash.com/photo-1499159058454-75067059248a?fm=webp&q=50&w=1920" alt="Photo by @quinoal on Unsplash" title="Photo by @quinoal on Unsplash"></div><figcaption class=font-16>Photo by <a class="link unsplash-ref" rel="noreferrer nofollow noopener" target=_blank href=https://unsplash.com/@quinoal>@quinoal</a> on Unsplash</figcaption></figure><h2 id=small-talk-about-channel>Small talk about channel</h2><p>If we talk about concurrency in Golang, Golang provides us with a type of concurrency communication called <code>Channel</code>. Channel itself helps us to communicate between goroutines. We can send and receive messages from one goroutine to another. There are two types of channel in golang that we can used and let&rsquo;s talk about them.</p><h2 id=unbuffered-channel>Unbuffered Channel</h2><p><code>Unbuffered channel</code> is a channel that <code>initially has no capacity</code> to store message inside it. <code>Unbuffered channel</code> requires us to fill the message in order to make the goroutine process unblocked by the channel. For example:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00f>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>import</span> (
</span></span><span style=display:flex><span>  <span style=color:#a31515>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a31515>&#34;time&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>func</span> access(ch <span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>) {
</span></span><span style=display:flex><span>  time.Sleep(time.Second)
</span></span><span style=display:flex><span>  fmt.Println(<span style=color:#a31515>&#34;start accessing channel\n&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#00f>for</span> i := <span style=color:#00f>range</span> ch {
</span></span><span style=display:flex><span>    fmt.Println(i)
</span></span><span style=display:flex><span>    time.Sleep(time.Second)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>func</span> main() {
</span></span><span style=display:flex><span>  ch := make(<span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>)
</span></span><span style=display:flex><span>  <span style=color:#00f>defer</span> close(ch)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#00f>go</span> access(ch)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#00f>for</span> i := 0; i &lt; 9; i++ {
</span></span><span style=display:flex><span>    ch &lt;- i
</span></span><span style=display:flex><span>    fmt.Println(<span style=color:#a31515>&#34;Filled&#34;</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  time.Sleep(3 * time.Second)
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>In the example above, our main function blocked when filling <code>ch</code> one by one. And our <code>access function</code> will print the message filled by <code>main function</code> one by one also because of the for loop.</p><p>Here is the output of the example above:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ go run chan.go 
</span></span><span style=display:flex><span>start accessing channel
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>1
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>2
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>3
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>4
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>5
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>6
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>7
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>8
</span></span><span style=display:flex><span>Filled
</span></span></code></pre></td></tr></table></div></div><h2 id=buffered-channel>Buffered Channel</h2><p>Unlike the Unbuffered Channel, <code>Buffered Channel</code> has a capacity to store messages inside it. <code>Buffered Channel</code> could be filled up to its defined capacity, not only one message. For example:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00f>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>import</span> (
</span></span><span style=display:flex><span>  <span style=color:#a31515>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a31515>&#34;time&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>func</span> access(ch <span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>) {
</span></span><span style=display:flex><span>  time.Sleep(time.Second)
</span></span><span style=display:flex><span>  fmt.Println(<span style=color:#a31515>&#34;start accessing channel\n&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#00f>for</span> i := <span style=color:#00f>range</span> ch {
</span></span><span style=display:flex><span>    fmt.Println(i)
</span></span><span style=display:flex><span>    time.Sleep(time.Second)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>func</span> main() {
</span></span><span style=display:flex><span>  <span style=color:green>// only modify this line to defined the capacity
</span></span></span><span style=display:flex><span><span style=color:green></span>  ch := make(<span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>, 3)
</span></span><span style=display:flex><span>  <span style=color:#00f>defer</span> close(ch)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#00f>go</span> access(ch)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#00f>for</span> i := 0; i &lt; 9; i++ {
</span></span><span style=display:flex><span>    ch &lt;- i
</span></span><span style=display:flex><span>    fmt.Println(<span style=color:#a31515>&#34;Filled&#34;</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  time.Sleep(3 * time.Second)
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Here is the output:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ go run chan.go
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>start accessing channel
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>0
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>1
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>2
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>3
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>4
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>5
</span></span><span style=display:flex><span>Filled
</span></span><span style=display:flex><span>6
</span></span><span style=display:flex><span>7
</span></span><span style=display:flex><span>8
</span></span></code></pre></td></tr></table></div></div><p>As you can see, the <code>ch</code> could be filled first until it is full-capacity then the other goroutine could access it one by one.</p><h2 id=differences>Differences</h2><p><code>Unbuffered Channel</code> has no capacity initially, but <code>Buffered Channel</code> has a capacity.</p><p><code>Unbuffered Channel</code> will block the goroutine whenever <code>it is empty and waiting to be filled</code>. But <code>Buffered Channel</code> will also block the goroutine either when <code>it is empty and waiting to be filled</code> or <code>it's on its full-capacity and there's a statement that want to fill the channel</code>.</p><h2 id=capacity>Capacity</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>unbuffered := make(<span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>buffered := make(<span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>, 30)
</span></span></code></pre></td></tr></table></div></div><h2 id=empty-and-waiting-to-be-filled>Empty and Waiting to be filled</h2><p><code>Both Buffered and Unbuffered</code> channel blocks the goroutine until it is filled in this case blocks for a second.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00f>func</span> main() {
</span></span><span style=display:flex><span>  ch := make(<span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>)
</span></span><span style=display:flex><span>  <span style=color:#00f>defer</span> close(ch)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#00f>go</span> <span style=color:#00f>func</span>(ch <span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>) {
</span></span><span style=display:flex><span>    time.Sleep(time.Second)
</span></span><span style=display:flex><span>    ch &lt;- 1
</span></span><span style=display:flex><span>  }(ch)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  &lt;-ch
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=full-capacity-and-theres-statement-that-want-to-fill-the-channel>Full Capacity and there&rsquo;s statement that want to fill the channel</h2><p>Only <code>Buffered</code> channel blocks on <code>ch &lt;- 2</code> because the <code>ch</code> is on its full capacity and waiting to be released. The <code>Unbuffered Channel</code> will go deadlock this time because there&rsquo;s no goroutine accessing the message <code>2</code> but it is filled.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00f>func</span> main() {
</span></span><span style=display:flex><span>  ch := make(<span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>, 1)
</span></span><span style=display:flex><span>  <span style=color:#00f>defer</span> close(ch)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#00f>go</span> <span style=color:#00f>func</span>(ch <span style=color:#00f>chan</span> <span style=color:#2b91af>int</span>) {
</span></span><span style=display:flex><span>    time.Sleep(time.Second)
</span></span><span style=display:flex><span>    &lt;-ch
</span></span><span style=display:flex><span>  }(ch)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  ch &lt;- 1
</span></span><span style=display:flex><span>  ch &lt;- 2
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Thank you for reading!</p></div><div class=separator><span>&#183;</span>
<span>&#183;</span>
<span>&#183;</span></div><h2 class=subtitle>Love This Content?</h2><div class="fg-light support-me">Any kind of supports is greatly appreciated! Kindly support me via <a rel="noreferrer noopener" target=_blank class="fg-bold bottom-red" href=https://www.blockchain.com/btc/address/17Afj6o7xm3ZxQ38adnvSFHSBKhHiCDiev>Bitcoin</a>, <a rel="noreferrer noopener" target=_blank class="fg-bold bottom-red" href=https://ko-fi.com/clavinjune>Ko-fi</a>, <a rel="noreferrer noopener" target=_blank class="fg-bold bottom-red" href=https://trakteer.id/clavinjune>Trakteer</a>, or just continue to read another content. You can write a response via <a class="fg-bold bottom-red" rel="noreferrer nofollow noopener" href=https://webmention.io/ target=_blank>Webmention</a> and let me know the URL via <a class="fg-bold bottom-red" rel="noreferrer nofollow noopener" href=https://telegraph.p3k.io/send-a-webmention target=_blank>Telegraph</a>.</div><div id=webmentions></div><script defer type=text/javascript src=https://clavinjune.dev/js/webmention.js></script></main><script type=text/javascript src=https://clavinjune.dev/js/ga.js defer></script>
<script defer src="https://www.googletagmanager.com/gtag/js?id=G-MTSJ0LHJ06"></script><footer>Copyright &copy; 2022 &#183; Clavin June</footer><script defer type=text/javascript src=https://clavinjune.dev/js/copy.js></script></body></html>